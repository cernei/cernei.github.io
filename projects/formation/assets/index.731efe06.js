import{r as W,a as X,o as l,c as r,b as V,F as S,n as Y,d as m,t as $,e as Z,w as C,v as D,f as I,g as z,h as O,u as E,i as Q,j as N,k as U,l as F,m as M,p as _,q as A,s as x,V as P,x as ee,y as te,z as J,A as oe,B as ne,C as se,D as ae,E as ie,G as le}from"./vendor.d2412b78.js";const re=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(a){if(a.ep)return;a.ep=!0;const d=c(a);fetch(a.href,d)}};re();function T(t){const n=t.replace(/([A-Z])/g," $1").toLowerCase();return n[0].toUpperCase()+n.slice(1)}function j(t,n=["required","min","max"]){function c(o){return o.split(/\n/).map(y=>y.split(",").map(h=>h.trim()))}function i(o){function f(h,w){let b,u;return h.indexOf("=")!==-1?([b,u]=h.split("="),u=u.replace(/"/g,""),b==="form"&&p[u]&&(u=j(p[u].join(`

`)))):w===0?(b="component",u=h):(b=h,u=!0),[b,u]}const y={};return o&&o.split(/\n/).forEach(w=>{const b=w.match(/^([a-z\d]+)\s+-\s+([^\n]+)/i),u={};b[2].match(/([a-z\d=]+".*?"|[^",\s]+)(?=\s*,|\s*$)/ig).map((k,K)=>{console.log(k);const[R,G]=f(k.trim(),K);u[R]=G}),u.label||(u.label=T(b[1])),u.validation={},n.forEach(k=>{u[k]&&(u.validation[k]=u[k],delete u[k])}),y[b[1]]=u}),y}function a(o){return o?o.split(/\s+/):[]}function d(o){let f="main";const y={[f]:[]};return o.map(h=>{const w=h.trim().match(/^#([^\n]+)\n/);w&&(f=w[1].trim(),y[f]=[],h=h.substring(h.indexOf(`
`)).trim()),y[f].push(h)}),y}if(!t)return{};const s=t.trim().split(/[\n\s]{2,}/g),p=d(s),g=c(p.main[0]),v=i(p.main[1]),e=a(p.main[2]);return g.flat().forEach(o=>{v[o]||(v[o]={component:"text",label:T(o),validation:{}})}),{layout:g,config:v,validation:e}}function ce(t){const n=t.layout.flat(),c={};return n.forEach(i=>{["list","checkbox-group"].includes(t.config[i].component)?c[i]=[]:t.config[i].component==="select"&&t.config[i].multiple?c[i]=[]:t.config[i].component==="checkbox"?c[i]=!1:c[i]=""}),c}var L={parse:j,createState:ce};const B={categories:[{id:1,value:"Person"},{id:2,value:"Company"}],roles:[{id:1,value:"Admin"},{id:2,value:"Head of Data Entry"},{id:3,value:"Data Entry Operator"},{id:4,value:"Head of Sales"},{id:5,value:"Sales Manager"}],permissions:[{id:1,value:"Read"},{id:2,value:"Write"},{id:3,value:"Delete"}],users:[{id:1,value:"Isaac Lowery"},{id:2,value:"Morgan Allison"},{id:3,value:"Serina Kane"},{id:4,value:"Hector Martinez"},{id:5,value:"Dane Kemp"},{id:6,value:"Lenore Stein"}]};var H=(t,n)=>{const c=t.__vccOpts||t;for(const[i,a]of n)c[i]=a;return c};const ue={class:"row"},de={key:0},pe={class:"list-label"},ve=["onClick"],me={class:"list-container"},fe={key:0},he={class:"list-item"},ge=["onClick"],_e={key:1,class:"empty"},ye={key:1},be=["onUpdate:modelValue","onInput"],xe=["onUpdate:modelValue","onInput"],ke={key:2,class:"checkbox"},$e=["onUpdate:modelValue","value"],we={key:3},Ve={class:"checkbox"},Se=["onUpdate:modelValue","value"],Ce={key:4},Ie={class:"radio"},Ue=["onUpdate:modelValue","value"],Ee=["multiple","onUpdate:modelValue"],Fe=["value"],Me={class:"message"},Ae={props:["state","layout","config"],setup(t){const n=t,c={required:(s,p)=>s?null:"Required",min:(s,p)=>{const g="Minimum "+p;return typeof s=="string"||Array.isArray(s)?s.length<p?g:null:s<p?g:null}};let i=W({});function a(s){i[s]="";const p=n.config[s].validation;Object.keys(p).find(g=>{const v=c[g](n.state[s],p[g]);if(v)return i[s]=v,!0})}function d(s){n.state[s].push(L.createState(n.config[s].form))}return(s,p)=>{const g=X("FormBuilder",!0);return l(!0),r(S,null,V(t.layout,v=>(l(),r("div",ue,[(l(!0),r(S,null,V(v,e=>(l(),r("div",{class:"field",style:Y({flex:t.config[e].width?t.config[e].width:1})},[t.config[e].component==="list"?(l(),r("div",de,[m("div",pe,$(t.config[e].label),1),m("button",{class:"btn btn-success btn-sm pull-right",onClick:o=>d(e)},"+",8,ve),m("div",me,[n.state[e].length?(l(),r("div",fe,[(l(!0),r(S,null,V(n.state[e],(o,f)=>(l(),r("div",he,[m("div",null,[Z(g,{layout:t.config[e].form.layout,config:t.config[e].form.config,state:o},null,8,["layout","config","state"])]),m("div",null,[m("button",{class:"btn btn-sm btn-danger",onClick:y=>n.state[e].splice(f,1)},"X",8,ge)])]))),256))])):(l(),r("div",_e," Empty list "))])])):(l(),r("div",ye,[m("label",null,$(t.config[e].label),1),t.config[e].component==="text"?C((l(),r("input",{key:0,type:"text","onUpdate:modelValue":o=>n.state[e]=o,class:"form-control",onInput:o=>a(e)},null,40,be)),[[D,n.state[e]]]):I("",!0),t.config[e].component==="password"?C((l(),r("input",{key:1,type:"password","onUpdate:modelValue":o=>n.state[e]=o,class:"form-control",onInput:o=>a(e)},null,40,xe)),[[D,n.state[e]]]):I("",!0),t.config[e].component==="checkbox"?(l(),r("div",ke,[m("label",null,[C(m("input",{type:"checkbox","onUpdate:modelValue":o=>n.state[e]=o,value:t.config[e].id},null,8,$e),[[z,n.state[e]]]),O($(t.config[e].value),1)])])):I("",!0),t.config[e].component==="checkbox-group"?(l(),r("div",we,[(l(!0),r(S,null,V(E(B)[t.config[e].options],o=>(l(),r("div",Ve,[m("label",null,[C(m("input",{type:"checkbox","onUpdate:modelValue":f=>n.state[e]=f,value:o.id},null,8,Se),[[z,n.state[e]]]),O($(o.value),1)])]))),256))])):I("",!0),t.config[e].component==="radio"?(l(),r("div",Ce,[(l(!0),r(S,null,V(E(B)[t.config[e].options],o=>(l(),r("div",Ie,[m("label",null,[C(m("input",{type:"radio","onUpdate:modelValue":f=>n.state[e]=f,value:o.id},null,8,Ue),[[Q,n.state[e]]]),O($(o.value),1)])]))),256))])):I("",!0),t.config[e].component==="select"?C((l(),r("select",{key:5,multiple:t.config[e].multiple,"onUpdate:modelValue":o=>n.state[e]=o,class:"form-control"},[(l(!0),r(S,null,V(E(B)[t.config[e].options],o=>(l(),r("option",{value:o.id},$(o.value),9,Fe))),256))],8,Ee)),[[N,n.state[e]]]):I("",!0)])),m("div",Me,$(E(i)[e]),1)],4))),256))]))),256)}}};var Oe=H(Ae,[["__scopeId","data-v-675f54ae"]]);const Be=`
firstName, lastName
password, password2
partners, competitors
permissions
isPublic

firstName - text, required, min=3
lastName - text, required, min=3
password - password, required, min=6
password2 - password, required, min=6, label="Repeat password"
permissions - checkbox-group, options=permissions
partners - list, form=company
competitors - list, form=company
isPublic - checkbox, label="Make my profile public", value="Yes"

password == password

#company
name, type

type - select, options=categories
`;const q=t=>(oe("data-v-5deadb58"),t=t(),ne(),t),Le={class:"row"},qe={class:"col-md-5"},De=q(()=>_("div",null,[_("h3",null,"Generated JSON schema:")],-1)),ze={class:"col-md-7"},Pe={key:0},Je=q(()=>_("h3",null,"Form Data:",-1)),Te={key:1},je=q(()=>_("h3",null,"oops... check syntax",-1)),He=[je],Ke={setup(t){const n=U(`
firstName, lastName
`.trim());let c=U({});const i=U("");let a=U([]),d=U({}),s=U(!1);function p(){n.value=Be.trim()}function g(){try{const v=L.parse(n.value);a.value=v.layout,d.value=v.config,c.value=L.createState(v),i.value=JSON.stringify(v,null,4),s.value=!1}catch(v){s.value=!0,console.log(v)}}return(v,e)=>(F(),M("div",Le,[_("div",qe,[_("div",{style:{width:"650px"}},[_("button",{class:"btn btn-xs btn-success m-3 pull-right",onClick:p},"Insert advanced example")]),A(x(P),{value:n.value,"onUpdate:value":e[0]||(e[0]=o=>n.value=o),onInput:g,class:"editor",theme:"eclipse"},null,8,["value"]),De,A(x(P),{value:i.value,"onUpdate:value":e[1]||(e[1]=o=>i.value=o),class:"editor",theme:"eclipse"},null,8,["value"])]),_("div",ze,[x(s)?J("",!0):(F(),M("div",Pe,[_("form",{class:"form",onSubmit:e[2]||(e[2]=ee(()=>{},["prevent"]))},[A(Oe,{state:x(c),layout:x(a),config:x(d)},null,8,["state","layout","config"])],32),Je,_("pre",null,te(x(c)),1)])),x(s)?(F(),M("div",Te,He)):J("",!0)])]))}};var Re=H(Ke,[["__scopeId","data-v-5deadb58"]]);const Ge=ie('<div class="github"><a href="https://github.com/cernei/formation">github.com/cernei/formation</a></div><div class="header"><div class="title-container"><div class="title">Formation.JS</div><div class="description">Easiest way to create and manage forms for CRMs</div></div></div>',2),We=se({setup(t){return(n,c)=>(F(),M(ae,null,[Ge,A(Re)],64))}});le(We).mount("#app");
